syntax = "proto3";

package product;

import "google/protobuf/any.proto";

option go_package = "github.com/goggle-source/productLotoProto/gen/go/product;product";

service ProductServic {
    rpc GetsProduct(GetProductsRequest) returns (GetProductsResponse);
    rpc BuyProduct(BuyProductRequest) returns (BuyProductResponse);
    rpc SellProduct(SellProductRequest) returns (SellProductResponse);
    rpc GetsProductUser(GetsProductToUserRequest) returns (GetsProductTouserResponse);
    rpc Health(HealthProductRequest) returns (HealthProductResponse);
}

message Product {
    string id = 1;
    string name = 2;
    string description = 3;
    double price = 4;
    int32 count = 5;
}

message GetProductsRequest {}

message GetProductsResponse {
    repeated Product products = 1;
}

message BuyProductRequest {
    string productId = 1;
}

message BuyProductResponse {
    bool success = 1;
}

message SellProductRequest {
    string productId = 1;
}

message SellProductResponse {
    bool success = 1;
}

message HealthProductRequest {}

message HealthProductResponse{
    map<string, google.protobuf.Any> info = 1;
}

message GetsProductToUserRequest {}

message GetsProductTouserResponse {
    repeated Product products = 1;
}